<!DOCTYPE html>
<html>
  <head>
    <title>Hello Vega</title>
    <meta charset="utf-8" />

    <!-- These scripts link to the Vega runtime -->
		<script src="https://cdn.jsdelivr.net/npm/vega@5"></script>
		<script src="https://cdn.jsdelivr.net/npm/vega-lite@5"></script>
		<script src="https://cdn.jsdelivr.net/npm/vega-embed@6"></script>
    <!-- This is the script generated from Elm -->
    <script src="js/species.js"></script>
 </head>

  <body>

    <app></app>

    <script>
       var app = 
        Elm.Species.init({ node: document.querySelector('app') });

        app.ports.vegaLiteSpec.subscribe(function (namedSpecs) {

          for (let name of Object.keys(namedSpecs)) {
            vegaEmbed(`#${name}`, namedSpecs[name], { actions: false }).catch(
              console.warn
            );
          }
        });
    </script>
  </body>
</html>
